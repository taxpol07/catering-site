<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>PolatCatering UK</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>

<div class="overlay">

    <nav class="navbar navbar-dark glass-nav mb-4 shadow-sm py-3">
        <div class="container">
            <a th:href="@{/}" class="navbar-brand fw-bold fs-4 text-warning">
                <i class="bi bi-box-seam-fill me-2"></i> PolatCanCatering UK
            </a>

            <div class="d-flex gap-2">
                <a th:href="@{/login}" class="btn btn-outline-light btn-sm fw-bold">
                    <i class="bi bi-person-fill me-1"></i> Admin Login
                </a>

                <a th:href="@{/logout}" class="btn btn-danger btn-sm fw-bold">
                    <i class="bi bi-box-arrow-right me-1"></i> Logout
                </a>
            </div>
        </div>
    </nav>

    <div class="container text-center mb-5 mt-3">
        <h1 class="display-3 fw-bold text-white" style="text-shadow: 2px 2px 10px rgba(0,0,0,0.8);">
            PolatCanCatering UK
        </h1>
        <p class="fs-4 text-white opacity-75" style="text-shadow: 1px 1px 5px rgba(0,0,0,0.8);">
            Premium Industrial Catering Equipment Supplier
        </p>
    </div>

    <div class="container glass-card p-4 p-md-5 mb-5">

        <section class="categories mb-5">
            <h2 class="text-center fw-bold mb-4 border-bottom pb-3">Browse by Category</h2>

            <div class="category-grid">
                <a th:href="@{/}" class="category" th:classappend="${param.category == null} ? 'active'">All</a>

                <a th:href="@{/category/Oven}" class="category">Oven</a>
                <a th:href="@{/category/Fryer}" class="category">Fryer</a>
                <a th:href="@{/category/Cooker}" class="category">Cooker</a>
                <a th:href="@{/category/Grill}" class="category">Grill</a>
                <a th:href="@{/category/Griddle}" class="category">Griddle</a>
                <a th:href="@{/category/Peeler}" class="category">Peeler</a>
                <a th:href="@{/category/Chipper}" class="category">Chipper</a>

                <a th:href="@{/category/Dough Roller}" class="category">Dough Roller</a>
                <a th:href="@{/category/Dough Mixer}" class="category">Dough Mixer</a>
                <a th:href="@{/category/Fridge}" class="category">Fridge</a>
                <a th:href="@{/category/Freezer}" class="category">Freezer</a>
                <a th:href="@{/category/Sink}" class="category">Sink</a>
                <a th:href="@{/category/Table}" class="category">Table</a>
                <a th:href="@{/category/Stand}" class="category">Stand</a>
                <a th:href="@{/category/Combi Ovens}" class="category">Combi Ovens</a>
            </div>
        </section>

        <section class="items">
            <div class="item-grid">

                <div th:each="equipment : ${listEquipments}" style="position: relative;">

                    <a th:href="@{/details/{id}(id=${equipment.id})}" class="item-card shadow-sm h-100 d-block text-decoration-none text-dark bg-white">

                        <img th:if="${equipment.imagePath != null}"
                             th:src="${#strings.startsWith(equipment.imagePath, 'http')} ? ${equipment.imagePath} : @{/image/{fn}(fn=${equipment.imagePath})}"
                             alt="Product Image">
                        <img th:if="${equipment.imagePath == null}" th:src="@{/static/img/sample.jpg}" alt="No Image">

                        <h3 th:text="${equipment.brand}" class="mt-3 px-3 text-truncate">Brand</h3>
                        <p class="model px-3 text-muted small" th:text="${equipment.model}">Model</p>
                        <span class="tag ms-3 mb-4" th:text="${equipment.category}">Category</span>

                        <span class="price shadow" th:text="'£' + ${equipment.price}">£0.00</span>
                    </a>

                    <div style="position: absolute; top: 10px; left: 10px; display: flex; gap: 8px; z-index: 20;">
                        <a th:href="@{/delete/{id}(id=${equipment.id})}"
                           onclick="return confirm('Are you sure you want to delete this item?');"
                           class="btn btn-danger btn-sm rounded-circle d-flex align-items-center justify-content-center shadow"
                           style="width: 35px; height: 35px; font-weight: bold;">✕</a>

                        <a th:href="@{/edit/{id}(id=${equipment.id})}"
                           class="btn btn-warning btn-sm rounded-circle d-flex align-items-center justify-content-center shadow text-white"
                           style="width: 35px; height: 35px;">✎</a>
                    </div>

                </div>

                <div th:if="${#lists.isEmpty(listEquipments)}" class="col-12 text-center py-5">
                    <div class="p-4 bg-light rounded-3 border border-dashed">
                        <p class="text-muted mb-0 fs-5">No equipment found yet. Click the <strong>+</strong> button to add some!</p>
                    </div>
                </div>

            </div>
        </section>

    </div>

    <footer class="footer-modern text-center mt-auto">
        <div class="container">
            <h3 class="fw-bold mb-3 text-warning">PolatCanCatering UK</h3>

            <div class="d-flex justify-content-center flex-wrap gap-4 mt-4">
                <div class="bg-dark bg-opacity-50 p-3 rounded border border-secondary" style="max-width: 400px;">
                    <i class="bi bi-geo-alt-fill text-danger fs-3 mb-2 d-block"></i>
                    <h5 class="fw-bold text-white">Visit Our Warehouse</h5>
                    <p class="mb-0 text-light opacity-75">Manchester, Oldham Warehouse<br>Come and see our products here</p>
                    <p class="mt-2 fw-bold text-warning border-top border-secondary pt-2 d-inline-block">Post Code: OL8 2JP</p>
                </div>
                <div class="bg-dark bg-opacity-50 p-3 rounded border border-secondary" style="max-width: 300px;">
                    <i class="bi bi-telephone-fill text-success fs-3 mb-2 d-block"></i>
                    <h5 class="fw-bold text-white">Contact Us</h5>
                    <p class="mb-0 text-light opacity-75">Available on WhatsApp & Phone<br> 7/24 </p>
                    <p class="mt-2 fw-bold text-success border-top border-secondary pt-2 d-inline-block">+44 7500 275 753</p>
                </div>
            </div>

            <p class="mt-4 mb-0 text-muted small">© 2026 PolatCatering UK. All Rights Reserved.</p>
        </div>
    </footer>

    <a th:href="@{/showNewEquipmentForm}" class="fab shadow-lg">
        <i class="bi bi-plus-lg"></i>
    </a>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>